= Export a preference in DOT format

====== link:../README.adoc[Summary]

=== Export Preference in DOT Format

image:../assets/export_in_dotformat_diag_class.PNG[Export in DOT format - Diagram]


=== What will do this class +

The goal of the ExportDOT class is to export a preference in link:./GUIInputFiles.adoc[DOT format]. 

A preference can be represented by a *directed* graph. The preference interface has a method link:./preferenceInterfaces.adoc[asGraph()] which returns a preference as a link:https://jgrapht.org/javadoc/org.jgrapht.core/org/jgrapht/Graph.html[Graph] _(*)_. So all preferences can be converted into a graph and given to the export() method of the ExportDOT class.

The export() method of the ExportDOT class verify that the provided graph is a directed graph or not and then converts it to DOT format. Finally, the link:https://docs.oracle.com/javase/7/docs/api/java/io/Writer.html[Writer] given as argument provides an output stream to a file. We can create a link:https://docs.oracle.com/javase/7/docs/api/java/io/PrintWriter.html[PrintWriter] on this stream and write in the file (see the next example for more informations about write stream). 

----
//Create an instance to manipulate/create a file from a path
String pathname = "./doc.txt";
File f =  new File(pathname) ;

//Create an ouput stream to the previous file
Writer writer =  new FileWriter(f);
		   
// Create a PrintWriter to write in this file
PrintWriter pw =  new PrintWriter(writer);
----

== Export Preference in DOT format methods analysis +

[cols="1,1,2", options="header"] 
|===
|Method name
|Contract
|Relevance

|export(Graph pref, Writer w)
|This is a static void method which takes two argument : a graph that represents a preference and a Writer (provides an output stream to a file) which export it in DOT format. It would be useful to verify that the export method receives a directed graph or not by using the isDirectedGraph() method. Then convertToDot() converts the graph and sends the string to the print() method of the PrintWritter to write in the output file. 
|To do

|isDirectedGraph(Graph g)
|This is a static method which returns true when the argument is a directed graph.  
|To do

|convertToDoT(DirectedGraph g)
|This is a static method which returns the directed graph in DOT Format as String.
|To do

|===

_(*) Be carefull, currently the asGraph() method of the Preference interface returns a Graph. We can't be sure that the returned Graph is a link:https://jgrapht.org/javadoc-1.0.0/org/jgrapht/DirectedGraph.html[DirectedGraph] (which inherits from Graph class). This can be a problem because usually a connection between two vertices of a graph is represented by "--" and by "->" for a directed graph in DOT format. Thus the conversion might not be good._
